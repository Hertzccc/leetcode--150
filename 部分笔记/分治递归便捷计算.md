# 分治递归便捷计算

## 形如$ T(n) = aT(n/b) + O(n^d) $



## 分治算法的时间复杂度分析

在分治算法的时间复杂度分析中，形如 $ T(n) = aT(n/b) + O(n^d) $的递归关系是常见的。为了理解为什么第二层的成本计算为$ \left(\frac{a}{b^d}\right)O(n^d) $，我们需要深入分析递归关系和它在不同层次上的成本分布。这个分析的核心是理解递归树的结构。

### 递归树分析

1. **根节点的成本：**
   在递归树的根节点上，我们的递归关系是$ T(n) = aT(n/b) + O(n^d) $。这里的 $ O(n^d) $ 表示一次分治操作所需的时间。可以认为这是当前层次的计算成本。

2. **第一层子问题：**
   递归将问题分为 \( a \) 个子问题，每个子问题的大小为 \( \frac{n}{b} \)。每个子问题的成本可以用同样的递归关系表示：
   $$
   T\left(\frac{n}{b}\right) = aT\left(\frac{n}{b^2}\right) + O\left(\left(\frac{n}{b}\right)^d\right)]\
   $$
   第一层的总计算成本为：
   $$
   a \cdot O\left(\left(\frac{n}{b}\right)^d\right) = a \cdot O\left(\frac{n^d}{b^d}\right) = \frac{a}{b^d} O(n^d)
   $$
   
   
   
   
   

### 递归树的总成本

递归树的每一层的计算成本呈现出一个规律，即第 \( k \) 层的计算成本为：
$$
\left(\frac{a}{b^d}\right)^k O(n^d)
$$




为了计算递归树的总成本，我们需要将所有层次的成本相加。这是一个几何级数的求和问题。递归树的总成本 \( T(n) \) 可以表达为：
$$
T(n) = O(n^d) \sum_{k=0}^{\log_b n} \left(\frac{a}{b^d}\right)^k
$$


### 递归树求和情况

根据级数的收敛情况，可以分为三种情况来讨论：
1. **如果 $ a < b^d $ ：**
   级数是收敛的，和趋于一个常数，故时间复杂度为 $ O(n^d) $。

2. **如果  $ a = b^d $：**
   级数和为  $ \log_b n $ ，故时间复杂度为  $ O(n^d \log n)$  。

3. **如果 $ a > b^d $：**
   级数是发散的，和主要由最大的项主导，即 $ \left(\frac{a}{b^d}\right)^{\log_b n} $，复杂度为 $ O(n^{\log_b a})$ 。



